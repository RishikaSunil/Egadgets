{% extends 'nav.html' %}
{% block nav %}

{% if messages %}
{% for i in messages %}
{% if i.level == DEFAULT_MESSAGE_LEVELS.SUCCESS %}
<div class="alert alert-success alert-dismissible">
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    <strong>{{i}}</strong>
</div>
{% endif %}
{% if i.level == DEFAULT_MESSAGE_LEVELS.ERROR %}
<div class="alert alert-danger alert-dismissible">
    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
    <strong>{{i}}</strong>
</div>
{% endif %}
{%endfor%}
{%endif%}

<div class="container-fluid p-5">
    <h1 class="text-info">CART</h1>
    {% for i in cart %} 
    <div class="row border border-3 border-dark shadow rounded mb-5 p-4">
        <div class="col">
            <img src="{{i.product.image.url}}" alt="pimg" height="200px">
        </div>
        <div class="col">
            <h5>{{i.product.title}}</h5>
            <p>Price: {{i.product.price}}</p>
            <p>{{i.product.description}}</p>
            <p>Quantity: {{i.quantity}}</p>
            <h6>Total Price: {{i.total_price}}</h6>
            <p>{{i.date}}</p>
            <div class="d-flex justify-content-between">
                <a href="{% url 'cout' i.id %}" class="btn btn-success">
                    <i class="fa-solid fa-bag-shopping"></i>
                    Buy
                </a>
                <a href="{% url 'dcart' i.id %}" class="btn btn-danger">
                    <i class="fa-solid fa-trash"></i>
                    Remove
                </a>

            </div>
        </div>

    </div>
    {% endfor %}
</div>

{% endblock nav %}